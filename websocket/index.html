<!DOCTYPE html>
<html>
<head>
  <title>WebSocket Playground</title>
</head>
<body>
    <button onclick="connect()">Reconnect</button>
</body>
<script>
    var ws = new WebSocket('ws://192.168.1.67:9898/');
    function connect(){
        ws = new WebSocket('ws://192.168.1.67:9898/');
        ws.onopen = function() {
            console.log('WebSocket Client Connected');
            // ws.send('Hi this is web client.');
        };
        ws.onmessage = function(e) {
        console.log("Received: '" + e.data + "'");
        };

    }

    connect()
    
    pX = 0;
    pY = 0;
    pT = 0;
    onmousemove = function(e){            
            x = e.clientX;
            y = e.clientY;

            if(Math.abs(pX-x) > 0 || Math.abs(pY-y) > 0){
                pX = x;
                pY = y;
                pT = Date.now;
                ws.send(`{"x":${x},"y":${y}}`);
            }
        }
</script>
</html>